<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Документ без названия</title>
<!-- <link href="jquery-mobile/jquery.mobile-1.3.0.min.css" rel="stylesheet" type="text/css">
<script src="jquery-mobile/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile-1.3.0.min.js" type="text/javascript"></script> -->
<link href="jquery-mobile/jquery.mobile.structure.min.css" rel="stylesheet" type="text/css">
<link href="jquery-mobile/jquery.mobile.theme.min.css" rel="stylesheet" type="text/css">
<script src="jquery-mobile/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile.min.js" type="text/javascript"></script>
<script language="javascript" type="text/javascript" src="js/wifi.js"></script>
</head>

<body onload="rtsp()">
<div data-role="page" id="page1">
  <div data-role="header">
  <a href="index.html" data-role="button" data-icon="home" rel="external">На главную</a>
    <h1>Настройки WI-FI</h1>
  </div>
<form id="forms" method="post" action="javascript:void(null);" onsubmit="call()">
  <div data-role="fieldcontain">
    <label for="flipswitch">WI-FI:</label>
    <select name="flipswitch" id="flipswitch" data-role="slider">
      <option value="0">Выкл</option>
      <option value="1">Вкл.</option>
    </select>
  </div>
  <div data-role="fieldcontain">
    <label for="selectmenu" class="select">Номер канала:</label>
    <select name="selectmenu" id="selectmenu">
      <option value="1">Канал 1</option>
      <option value="2">Канал 2</option>
      <option value="3">Канал 3</option>
      <option value="4">Канал 4</option>
      <option value="5">Канал 5</option>
      <option value="6">Канал 6</option>
      <option value="7">Канал 7</option>
      <option value="8">Канал 8</option>
      <option value="9">Канал 9</option>
      <option value="10">Канал 10</option>
      <option value="11">Канал 11</option>
      <option value="12">Канал 12</option>
    </select>
  </div>
  
  <div data-role="fieldcontain">
    <label for="textinput">SSID:</label>
    <input type="text" name="textinput" placeholder="ssid" id="textinput" value="ipcam"  />
  </div>
  <div data-role="fieldcontain">
    <label for="passwordinput">Пароль:</label>
    <input type="password" name="passwordinput" placeholder="12345678" id="passwordinput" value="12345678"  />
  </div>
  <!-- <div data-role="controlgroup" data-type="horizontal">
    <input onClick="home()" type="button" value="На главную" data-icon="home" data-iconpos="left" />
    <input type="submit" value="Сохранить" data-icon="arrow-r" data-iconpos="right" />
  </div> -->
  <div data-role="footer"  data-position="fixed">
   <a href="network.html" data-role="button" data-icon="back" rel="external">Назад</a>
	<input type="submit" value="Сохранить" data-icon="arrow-r" class="ui-btn-right" data-iconpos="right"/>
  </div>
</form>
</div>
</body>
<script type="text/javascript" language="javascript">
    function call() {
      var msg   = $('#forms').serialize();
        $.ajax({type: 'POST',url: 'cgi-bin/wifi.cgi',data: msg,success: function(data) {$('.results').html(data);},error:  function(xhr, str){alert('Ошибка: ' + xhr.responseCode);}});
    }
   function home() {
	document.location.href = "index.html";
}
  function rtsp() {
document.getElementById('textinput').value = ssid;
document.getElementById('passwordinput').value = pass;
if (wifi == 1) $("#flipswitch option[value='1']").prop("selected",true);
else $("#flipswitch option[value='0']").prop("selected",true);
$("#flipswitch").slider('refresh');
}
switch (channel) {
	case 1:
$("#selectmenu option[value='1']").prop("selected",true);
break
	case 2:
$("#selectmenu option[value='2']").prop("selected",true);
break
	case 3:
$("#selectmenu option[value='3']").prop("selected",true);
break
	case 4:
$("#selectmenu option[value='4']").prop("selected",true);
break
	case 5:
$("#selectmenu option[value='5']").prop("selected",true);
break
	case 6:
$("#selectmenu option[value='6']").prop("selected",true);
break
	case 7:
$("#selectmenu option[value='7']").prop("selected",true);
break
	case 8:
$("#selectmenu option[value='8']").prop("selected",true);
break
	case 9:
$("#selectmenu option[value='9']").prop("selected",true);
break
	case 10:
$("#selectmenu option[value='10']").prop("selected",true);
break
	case 11:
$("#selectmenu option[value='11']").prop("selected",true);
break
	case 12:
$("#selectmenu option[value='12']").prop("selected",true);
break
}

</script>
</html>
